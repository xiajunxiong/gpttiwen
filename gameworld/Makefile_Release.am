AUTOMAKE_OPTIONS = foreign

noinst_PROGRAMS = EXEgameworld_release

#release版本
CXXFLAGS = -O0 -g -Wall -rdynamic

#debug版本
#CXXFLAGS = -O0 -g3 -Wall -D_DEBUG

INCLUDES = -I$(INCLUDE_PATH)/ -I$(LIB_LINUX_PATH)/ -I$(ENGINE_SERVER_DIR)/gameworld/gameworld -I$(LIB_LUA_PATH)/ -I$(LIB_TOLUA_PATH)

ADDCPP = 
ADDDIRS = ./servercommon/ ../3rdpart/lua5.1 ../3rdpart/tolua++/src

EXEgameworld_release_SOURCES = gameworld/suit/defendsuit.cpp gameworld/suit/suitbase.cpp gameworld/suit/ornament.cpp gameworld/skill/monsterskill.cpp gameworld/skill/roleskill.cpp gameworld/skill/skillmanager.cpp gameworld/skill/skillbase.cpp gameworld/skill/skillpool.cpp gameworld/skill/actionlogic.cpp gameworld/skill/skillimpl/mozheskill.cpp gameworld/skill/skillimpl/monsterskillimpl.cpp gameworld/skill/skillimpl/commonskill.cpp gameworld/skill/skillimpl/guiguskill.cpp gameworld/skill/skillimpl/daoshiskill.cpp gameworld/skill/skillimpl/xiakeskill.cpp gameworld/gamecommon.cpp gameworld/equipment/equipmentfunction.cpp gameworld/equipment/equipmentimpl/cloak.cpp gameworld/equipment/equipmentimpl/jade.cpp gameworld/equipment/equipmentimpl/clothes.cpp gameworld/equipment/equipmentimpl/weapon.cpp gameworld/equipment/equipmentimpl/mount.cpp gameworld/equipment/equipmentimpl/helmet.cpp gameworld/equipment/equipmentimpl/ring.cpp gameworld/equipment/equipmentimpl/necklace.cpp gameworld/equipment/equipmentimpl/belt.cpp gameworld/equipment/equipmentimpl/wrist.cpp gameworld/equipment/equipmentimpl/shoes.cpp gameworld/equipment/equipmentmanager.cpp gameworld/equipment/equipment.cpp gameworld/scene/map.cpp gameworld/scene/transportlist.cpp gameworld/scene/msggghandler.cpp gameworld/scene/aoi/zonematrix.cpp gameworld/scene/aoi/aoi.cpp gameworld/scene/aoi/obseritem.cpp gameworld/scene/aoi/zone.cpp gameworld/scene/scenemanager.cpp gameworld/scene/msguserhandler.cpp gameworld/scene/changescenedelayer.cpp gameworld/scene/messagehandler.cpp gameworld/scene/generater/scenemonsterlogic.cpp gameworld/scene/generater/gathergenerater.cpp gameworld/scene/generater/monstergenerater.cpp gameworld/scene/generater/itemdroper.cpp gameworld/scene/fbcreater.cpp gameworld/scene/scene.cpp gameworld/world.cpp gameworld/pet/petitem.cpp gameworld/pet/petpool.cpp gameworld/pet/petconfig.cpp gameworld/pet/petmanager.cpp gameworld/obj/character/truck.cpp gameworld/obj/character/character.cpp gameworld/obj/character/role.cpp gameworld/obj/character/pet.cpp gameworld/obj/character/roleattrs.cpp gameworld/obj/character/monster.cpp gameworld/obj/character/warpoint.cpp gameworld/obj/character/characterattrs.cpp gameworld/obj/objmanager.cpp gameworld/obj/obj.cpp gameworld/obj/otherobj/gatherobj.cpp gameworld/obj/otherobj/fallingitem.cpp gameworld/obj/otherobj/scenearea.cpp gameworld/obj/singlemanager.cpp gameworld/trade/carriage.cpp gameworld/trade/business.cpp gameworld/trade/traderegister.cpp gameworld/trade/stall.cpp gameworld/shop/shop.cpp gameworld/effect/effectbase.cpp gameworld/effect/itemeffect/itemeffectinstant.cpp gameworld/effect/itemeffect/itemeffect.cpp gameworld/effect/itemeffect/itemeffectinterval.cpp gameworld/effect/itemeffect/itemeffectbuff.cpp gameworld/effect/skilleffect/effectbuffsilent.cpp gameworld/effect/skilleffect/effectoncemp.cpp gameworld/effect/skilleffect/effectbuffmoveforbid.cpp gameworld/effect/skilleffect/effectbuffinjure.cpp gameworld/effect/skilleffect/effectbuffmpinsteadhp.cpp gameworld/effect/skilleffect/effectantiinjure.cpp gameworld/effect/skilleffect/effectinterval.cpp gameworld/effect/skilleffect/effectonce.cpp gameworld/effect/skilleffect/effectbuffantiinjure.cpp gameworld/effect/skilleffect/effectbuffblind.cpp gameworld/effect/skilleffect/effectbuff.cpp gameworld/effect/skilleffect/effectbuffdaze.cpp gameworld/effect/effectlist.cpp gameworld/effect/buffmanager.cpp gameworld/gamemempool.cpp gameworld/task/task.cpp gameworld/task/taskpool.cpp gameworld/task/taskoperunitimpl/opergiveitem.cpp gameworld/task/taskoperunitimpl/operchangescene.cpp gameworld/task/taskphase.cpp gameworld/task/taskmanager.cpp gameworld/task/taskunit.cpp gameworld/task/taskrecorder.cpp gameworld/task/tasklimit.cpp gameworld/task/taskreward.cpp gameworld/task/taskunitimpl/taskkillmonster.cpp gameworld/task/taskunitimpl/taskgoto.cpp gameworld/task/taskunitimpl/taskskillupgrade.cpp gameworld/task/taskunitimpl/taskkillmonsterpos.cpp gameworld/task/taskunitimpl/taskgather.cpp gameworld/task/taskunitimpl/tasktalktonpc.cpp gameworld/task/taskunitimpl/taskenterscene.cpp gameworld/task/taskunitimpl/taskoperate.cpp gameworld/task/taskunitimpl/taskcollectitem.cpp gameworld/task/taskunitimpl/taskuseitem.cpp gameworld/protocal/msgcpp.cpp gameworld/config/petpoolinit.cpp gameworld/config/globalconfiginit.cpp gameworld/config/itemconfiginit.cpp gameworld/config/professionalconfiginit.cpp gameworld/config/sceneconfig.cpp gameworld/config/roleglobalconfiginit.cpp gameworld/config/taskinit.cpp gameworld/config/itemloadconfig.cpp gameworld/config/carriageconfiginit.cpp gameworld/config/skillconfig.cpp gameworld/config/petglobalconfiginit.cpp gameworld/config/otherglobalconfiginit.cpp gameworld/config/scenemanagerconfig.cpp gameworld/config/equipconfiginit.cpp gameworld/config/suitloadconfig.cpp gameworld/config/shopinit.cpp gameworld/config/monsterconfig.cpp gameworld/config/mapconfig.cpp gameworld/config/npcconfig.cpp gameworld/config/pettrainconfiginit.cpp gameworld/config/keyconfiginit.cpp gameworld/config/businessconfiginit.cpp gameworld/config/specialidconfiginit.cpp gameworld/config/droperconfig.cpp gameworld/config/taskpoolinit.cpp gameworld/config/doorconfig.cpp gameworld/config/posthouseconfiginit.cpp gameworld/config/calculatefactorsinit.cpp gameworld/config/petconfiginit.cpp gameworld/config/experienceinit.cpp gameworld/npc/npc.cpp gameworld/npc/posthouserecord.cpp gameworld/npc/npcfunction.cpp gameworld/npc/business/npccarriagestart.cpp gameworld/npc/business/npcbusinessstart.cpp gameworld/npc/business/npccarriageflush.cpp gameworld/npc/business/npcbusiness.cpp gameworld/npc/transmit/npcposthouse.cpp gameworld/npc/transmit/npcfb.cpp gameworld/npc/transmit/npctransmit.cpp gameworld/npc/npcmanager.cpp gameworld/npc/item/npcstorage.cpp gameworld/npc/item/npcequipment.cpp gameworld/npc/item/npcshop.cpp gameworld/npc/npcrole/npcattrreport.cpp gameworld/npc/npcrole/npcaddcountry.cpp gameworld/npc/npcrole/npcprofessional.cpp gameworld/npc/army/npccityleadersalary.cpp gameworld/npc/army/npcreqkingwar.cpp gameworld/npc/army/npccreatearmy.cpp gameworld/npc/army/npcenterarmywar.cpp gameworld/npc/army/npcdismissarmy.cpp gameworld/npc/army/npcreqcitywar.cpp gameworld/gamelog.cpp gameworld/ai/aibase.cpp gameworld/ai/petai/petaiguard.cpp gameworld/ai/petai/petaibase.cpp gameworld/ai/petai/petattack.cpp gameworld/ai/petai/petaiwatch.cpp gameworld/ai/monsterai/monsteraiinitiative.cpp gameworld/ai/monsterai/monsteraipassive.cpp gameworld/ai/monsterai/monsteraifool.cpp gameworld/ai/monsterai/monsteraistatic.cpp gameworld/ai/monsterai/monsteraibase.cpp gameworld/ai/monsterai/monsteraimovearound.cpp gameworld/engineadapter.cpp gameworld/globalconfig/experience.cpp gameworld/globalconfig/equipconfig.cpp gameworld/globalconfig/globalconfig.cpp gameworld/globalconfig/otherglobalconfig.cpp gameworld/globalconfig/roleglobalconfig.cpp gameworld/globalconfig/keyconfig.cpp gameworld/globalconfig/pettrainconfig.cpp gameworld/globalconfig/calculatefactors.cpp gameworld/globalconfig/itemconfig.cpp gameworld/globalconfig/businessconfig.cpp gameworld/globalconfig/specialidconfig.cpp gameworld/globalconfig/posthouseconfig.cpp gameworld/globalconfig/carriageconfig.cpp gameworld/globalconfig/petglobalconfig.cpp gameworld/globalconfig/professionalconfig.cpp gameworld/internalcomm.cpp gameworld/item/itempool.cpp gameworld/item/medicinal/medicinalpercent.cpp gameworld/item/medicinal/medicinal.cpp gameworld/item/medicinal/medicinalbuff.cpp gameworld/item/medicinal/medicinalabsolute.cpp gameworld/item/medicinal/medicinalinterval.cpp gameworld/item/money.cpp gameworld/item/knapsack.cpp gameworld/item/itemfunction.cpp gameworld/item/itembase.cpp gameworld/item/hotkeyrecorder.cpp gameworld/item/special/petskillbook.cpp gameworld/item/special/petegg.cpp gameworld/item/special/flushrune.cpp gameworld/item/special/gemstone.cpp gameworld/item/special/starstone.cpp gameworld/item/special/testitem.cpp gameworld/item/special/taskitem.cpp gameworld/item/special/backhomeitem.cpp gameworld/item/special/giftbag.cpp gameworld/item/special/noparammergeitem.cpp gameworld/item/special/blueprint.cpp gameworld/other/attrreport.cpp gameworld/other/daycountrecorder.cpp gameworld/other/mentality.cpp gameworld/worldinit.cpp gameworld/friend/teaminfo.cpp gameworld/friend/friendmanager.cpp rmiclient/rmiloginclient.cpp rmiclient/rmiroleclient.cpp main.cpp serverlogic.cpp .././servercommon/struct/posthouseparam.cpp .././servercommon/struct/friendparam.cpp .././servercommon/struct/skilllistparam.cpp .././servercommon/struct/taskitemparam.cpp .././servercommon/struct/equipmentparam.cpp .././servercommon/struct/petparam.cpp .././servercommon/struct/businessparam.cpp .././servercommon/struct/roleinitparam.cpp .././servercommon/struct/mentalitylistparam.cpp .././servercommon/struct/knapsackparam.cpp .././servercommon/struct/presentparam.cpp .././servercommon/struct/hotkeylistparam.cpp .././servercommon/struct/system/publicnoticelist.cpp .././servercommon/struct/system/cmdlist.cpp .././servercommon/struct/enemyparam.cpp .././servercommon/struct/taskparam.cpp .././servercommon/struct/roleinfolist.cpp .././servercommon/struct/army/armyinitparam.cpp .././servercommon/struct/army/armyallstruct.cpp .././servercommon/struct/army/countryofficialparam.cpp .././servercommon/struct/army/cityinfolist.cpp .././servercommon/struct/army/armyrelationlist.cpp .././servercommon/struct/army/cityparam.cpp .././servercommon/struct/army/armyapplylist.cpp .././servercommon/struct/army/warlist.cpp .././servercommon/struct/army/armymemberlist.cpp .././servercommon/struct/army/initcountryparam.cpp .././servercommon/struct/army/countryparam.cpp .././servercommon/serverconfig/serverconfigpool.cpp .././servercommon/serverconfig/configstruct.cpp .././servercommon/string/gamestring.cpp .././servercommon/darmi/rmisystemclient.cpp .././servercommon/serverclmempool.cpp .././servercommon/servercommon.cpp

EXEgameworld_release_LDADD = $(LIB_LINUX_PATH)/libgameserver.a $(LIB_LINUX_PATH)/libcommon.a $(LIB_LINUX_PATH)/libutility.a $(LIB_LINUX_PATH)/libbasicnetwork.a

EXEgameworld_release_LDFLAGS = -L$(LIB_LINUX_PATH)/ -lpthread -lrt  -llog -lconfig  -lnetwork -lrmi
